<!-- add the class="print-only" to the elements that should only appear in the print version -->

<p id="paragraph001">
    <h3>TRANSCRIPTION</h3>
    <span id="lineID0001" begin="00:00:00.000" end="00:00:03.250" onclick="goToSentence(this)"></span>
    <span id="lineID0002" begin="00:00:04.490" end="00:00:07.240" onclick="goToSentence(this)">Welcome to the Hybrid Lecture Player,</span>
    <span id="lineID0003" begin="00:00:07.240" end="00:00:09.050" onclick="goToSentence(this)">a platform that allows you to turn</span>
    <span id="lineID0004" begin="00:00:09.050" end="00:00:10.910" onclick="goToSentence(this)">your audio visual project</span>
    <span id="lineID0005" begin="00:00:10.910" end="00:00:13.060" onclick="goToSentence(this)">into a multi-format publication tool.</span>
</p>
<p id="paragraph002">
    <span id="lineID0006" begin="00:00:13.060" end="00:00:14.120" onclick="goToSentence(this)">The Hybrid Lecture player has features such as</span>
    <span id="lineID0007" begin="00:00:14.120" end="00:00:16.787" onclick="goToSentence(this)">audio, video and visual documents display,</span>
    <span id="lineID0008" begin="00:00:16.787" end="00:00:20.267" onclick="goToSentence(this)">subtitles in different languages,</span>
    <span id="lineID0009" begin="00:00:20.267" end="00:00:22.947" onclick="goToSentence(this)">transcription in prose form</span>
    <span id="lineID0010" begin="00:00:22.947" end="00:00:25.957" onclick="goToSentence(this)">and external additional materials</span>
    <span id="lineID0011" begin="00:00:25.957" end="00:00:28.417" onclick="goToSentence(this)">related to the whole project.</span>
</p>
<p id="paragraph003">
    <span id="lineID0012" begin="00:00:28.417" end="00:00:31.177" onclick="goToSentence(this)">You can propose custom entries</span>
    <span id="lineID0013" begin="00:00:31.177" end="00:00:33.535" onclick="goToSentence(this)">into the materials.</span>
    <span id="lineID0014" begin="00:00:33.535" end="00:00:34.835" onclick="goToSentence(this)"> </span>
    <span id="lineID0015" begin="00:00:34.835" end="00:00:36.395" onclick="goToSentence(this)">Everything is synchronised</span>
    <span id="lineID0016" begin="00:00:36.395" end="00:00:38.565" onclick="goToSentence(this)">to enrich the navigation.</span>
</p>
<p id="paragraph004">
    <span id="lineID0017" begin="00:00:38.565" end="00:00:41.234" onclick="goToSentence(this)">You can generate a print and pdf version</span>
    <span id="lineID0018" begin="00:00:41.234" end="00:00:43.224" onclick="goToSentence(this)">of the transcription text,</span>
    <span id="lineID0019" begin="00:00:43.224" end="00:00:49.000" onclick="goToSentence(this)">and start using the Player right now!</span>
</p>

<div class="screen-only" style="margin: 70px 0">
    <h3>The Hybrid Lecture Player is open source and online!</h3>
    <p>Download it on <a href="https://github.com/consortium/bubbles" target="_blank" style="border-bottom: 2px solid black">GitHub</a>, and <a href="javascript:if(window.print)window.print()" style="border-bottom: 2px solid black">print the manual</a>.</p>
</div>

<!-- README GIT HUB -->
<!-- search&replace the H1 into h3 and the H2 into h4 -->

<div class="git-hub-readme print-only">

<h3><a id="user-content-the-hybrid-lecture-player" class="anchor" href="#the-hybrid-lecture-player" aria-hidden="true"><span class="octicon octicon-link"></span></a>The Hybrid Lecture Player’s USER MANUAL</h3>
    <p>The Hybrid Lecture Player’s files are on <a href="https://github.com/consortium/bubbles">GitHub</a>.</p>

    <p>The Hybrid Lecture player is a platform that allows you to turn your lecture documentation into a multi-format publication tool with features such as subtitle transcription, transcription in prose form, translations, and embedded lecture material such as images, audio and visual files. Everything is synched and information can be accessed via multiple channels, through custom tables of contents and sections.</p>
    <p class="print-only">Here is a map of the features that the Hybrid Lecture Player proposes:</p>
    <p><a href="https://camo.githubusercontent.com/cc597ff801a856ca1a6a3b4f5d02e9384755e6e5/687474703a2f2f6870672e696f2f696d672f484c502d77686974652e706e67" target="_blank"><img src="https://camo.githubusercontent.com/cc597ff801a856ca1a6a3b4f5d02e9384755e6e5/687474703a2f2f6870672e696f2f696d672f484c502d77686974652e706e67" alt="The Hybrid Lecture Player"></a>
    </p>

<h4><a id="user-content-this-repository-contains-the-following-folders-and-files" class="anchor" href="#this-repository-contains-the-following-folders-and-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>This repository contains the following folders and files</h4>

<pre><code>├── css                                   ==&gt; style folder
│&nbsp;&nbsp; └── app.css                           style of the Hybrid Lecture Player
├── data                                  ==&gt; captions, slides and synchronization folder
│&nbsp;&nbsp; ├── captions.xml                      file where the captions are encoded
│&nbsp;&nbsp; ├── captions-LanguageCode.xml         captions in various languages
│&nbsp;&nbsp; ├── ContextualHtml.xml                file where the additional materials are encoded
│&nbsp;&nbsp; │                                     (bottom-right box)
│&nbsp;&nbsp; ├── paragraphs.xml                    synchronization of the paragraphs and the video’s timeline
│&nbsp;&nbsp; └── SlidesInPoints.xml                synchronization of the slides and the video’s timeline
├── html                                  ==&gt; transcriptions folder
│&nbsp;&nbsp; ├── transcription.html                file where the transcription is encoded
│&nbsp;&nbsp; └── transcription-LanguageCode.html   transcription in various languages
├── images                                ==&gt; slides folder
│&nbsp;&nbsp; └── …
├── index.html                            the structure of the Hybrid Lecture Player’s page
└── js                                    ==&gt; javascript folder
    ├── HybridVideo.js                    the heart of the Player: synchronization scripts
    └── scrollTo                          automatic scrolling in the transcription
</code></pre>

    <p>You can download this repository and start using it on your computer, opening the file index.html in your favorite browser to see a local preview of the Hybrid Lecture Player. We recommend the use of Firefox, as the preview doesn’t work well in all browsers.</p>
    <p>To produce the subtitles, we use the open source subtitle editor Amara <a href="http://www.amara.org/fr/">http://www.amara.org/fr/</a>.</p>
    <p>The rest is simply html and javascript!</p>
    <p>For the moment, we use Youtube for the video part of the Hybrid Lecture Player. If you want to serve your video on your own server, you can also use Pandora, which is our next step for the Hybrid Lecture Player. But things still need to be set for Pandora.</p>

<h3><a id="user-content-using-the-hybrid-lecture-player" class="anchor" href="#using-the-hybrid-lecture-player" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using the Hybrid Lecture Player</h3>


<h4><a id="user-content-embedding-a-video" class="anchor" href="#embedding-a-video" aria-hidden="true"><span class="octicon octicon-link"></span></a>embedding a video</h4>

    <p>In the folder <code>js</code>, find the <code>HybridVideo.js</code> file and open it in your favourite text editor.</p>
    <p>In the part starting on line 408 in <code>HybridVideo.js</code>, line 411 indicates the id of the Youtube video. The id of a youtube video is visible at the end of its url. For instance: <a href="https://www.youtube.com/watch?v=z-WG3biOXto">https://www.youtube.com/watch?v=z-WG3biOXto</a>
    </p>
<pre><code>player = new YT.Player('player', {
    height: '390',
    width: '640',
    videoId: 'z-WG3biOXto',
    events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
    },
    playerVars: {
        'showinfo' : 0,
        'autohide': 1
    }
});
</code></pre>

    <p>Change <code>videoId: 'z-WG3biOXto',</code> to the correct YouTube video id.</p>

<h4><a id="user-content-adding-subtitles" class="anchor" href="#adding-subtitles" aria-hidden="true"><span class="octicon octicon-link"></span></a>adding subtitles</h4>

    <p>Exporting subtitles from Amara to create captions in 'Captions.xml' From Amara export the subtitles as .dxfp, save it somewhere on your computer, and open it in a text editor. Select all the <code>&lt;p&gt;</code> tags that are inside <code>&lt;body region="bottom"&gt;&lt;div&gt;</code> (without the <code>&lt;div&gt;</code> around) and copy them.</p>
    <p>In the folder <code>data</code>, find the <code>captions.xml</code> file and open it in a text editor. Paste the selection from the .dxfp file into the <code>captions.xml</code> file, inside the <code>&lt;div xml:id="captions"&gt;&lt;/div&gt;</code> tag. When editing the .xml file, the structure of the data should be kept the same, all tags should retain their attributes.</p>
    <p>When the captions don’t start immediately at the beginning, the first caption displayed will be an error message. (whenever there is nothing during a time period, it displays the message) You can manually add an information that replaces the error message For instance:</p>
    <div class="highlight highlight-html"><pre>    &lt;<span class="pl-ent">p</span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:00.000<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:37.563<span class="pl-pds">"</span></span>&gt;Subtitles will start at 00:37&lt;/<span class="pl-ent">p</span>&gt;
    &lt;<span class="pl-ent">p</span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:37.564<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:37.946<span class="pl-pds">"</span></span>&gt;(The content starts here!)&lt;/<span class="pl-ent">p</span>&gt;</pre>
    </div>

<h4><a id="user-content-adding-slides" class="anchor" href="#adding-slides" aria-hidden="true"><span class="octicon octicon-link"></span></a>adding slides</h4>

    <p>Edit the file <code>SlideInPoints.xml</code> in the folder <code>data</code> to change the inpoints of the slides. Make sure the inpoints are sequential and in the correct format e.g. <code>00:00:00.000</code>, <code>00:00:05.500</code> etc. If they are not then this will cause problems.</p>
    <p>It doesn't matter how many are there and at present the <code>id</code> addtributes are not used and these do not need to be sequential (for the moment).</p>
    <p>The slide images should all be contained in the <code>images</code> folder, these do not need to be named in any particular format. Their resolution must be of 1000px x 750px 72 dpi</p>

<h4><a id="user-content-change-the-title" class="anchor" href="#change-the-title" aria-hidden="true"><span class="octicon octicon-link"></span></a>change the title</h4>

    <p>In the root folder, open <code>index.html</code> in a text editor, and edit lines 49 to change the title of the project.</p>
    <div class="highlight highlight-html"><pre>    &lt;<span class="pl-ent">div</span> <span class="pl-e">class</span>=<span class="pl-s"><span class="pl-pds">"</span>title-lecture<span class="pl-pds">"</span></span>&gt;Forever Blowing Bubbles: A Walking Tour with Peter Linebaugh and Fabian Tompsett&lt;/<span class="pl-ent">div</span>&gt;</pre>
    </div>

<h4><a id="user-content-change-chapter-heading-titles-and-chapter-description" class="anchor" href="#change-chapter-heading-titles-and-chapter-description" aria-hidden="true"><span class="octicon octicon-link"></span></a>change chapter heading titles and chapter description</h4>

    <p>Still in <code>index.html</code>, change the <code>&lt;span&gt;</code> content inside the divs with class attribute <code>chapter-title</code> to change the sections’ titles.</p>
    <p>To link the sections to a precise point in the video:</p>
    <p>Set the inpoint of the chapter in seconds inside the attribute <code>onclick</code> i.e. <code>onclick="goToChapter(764)"</code> = points at 764 seconds. If you want to point at that time: 00:34:31.667, multiply it by 60 and add the seconds: (34 x 60) + 31 + 1 (rounds up the part of the last second) = 764 To go from the seconds to a minutes representation, divide it by 60, which makes 34.31666666… which corresponds to 00:34:31.667</p>
    <p>to synch the precis and the chapters (on mouseover):</p>
    <p>The number between the parenthesis of <code>changePrecisContent()</code> (in <code>index.html</code>) must correspond the numbers inside <code>HybridVideo.js</code> function <code>changePrecisContent(chapterNumber)</code>, starting on line 518.</p>
    <div class="highlight highlight-html"><pre>    case 6:
        document.getElementById("precis").innerHTML = "Surveys some fresh evidence for McLuhan<span class="pl-c1">&amp;rsquo;</span>s interests in rhetoric, including public speaking";
        break;</pre>
    </div>
    <p>Adapt the numbers in <code>case …:</code> so that they correspond to changePrecisContent() in index.html.</p>
    <p>To change the precis content, edit the <code>HybridVideo.js</code> file inside <code>document.getElementById("precis").innerHTML = "…";</code>, on line 518, for instance.</p>
    <p>The number in <code>onmouseleave="changePrecisContent()"</code> indicate the default precis, when the mouse is not on the sections’ area.</p>
    <p>You can choose any id number but it needs to be unique and needs to correspond in the <code>HybridVideo.js</code>
    </p>

<h4><a id="user-content-edit-the-full-transcript" class="anchor" href="#edit-the-full-transcript" aria-hidden="true"><span class="octicon octicon-link"></span></a>edit the full transcript</h4>

    <p>The full transcript can be found in the file <code>transcript.html</code>, in the <code>html</code> folder.</p>
    <p>To create this file you need to copy all the <code>&lt;p&gt;</code> tags from <code>data/captions.xml</code> and paste them into this document.</p>
    <p>Then comes a series of find and replace:</p>
    <p>Each span should have the attribute <code>onclick="goToSentence(this)"</code>. Use find and replace to add this to each span.</p>
    <p>You will need to add an id attribute to each span in the format <code>id="lineID0001"</code> where there are 4 digits for the lineID number.</p>
    <p>So each line should be in this format:</p>
    <div class="highlight highlight-html"><pre>    &lt;<span class="pl-ent">span</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>lineID0001<span class="pl-pds">"</span></span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:03.436<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:05.748<span class="pl-pds">"</span></span> <span class="pl-e">onclick</span>=<span class="pl-s"><span class="pl-pds">"</span>goToSentence(this)<span class="pl-pds">"</span></span>&gt;So, ladies and gentleman. Let’s take a seat.&lt;/<span class="pl-ent">span</span>&gt;
    &lt;<span class="pl-ent">span</span> <span class="pl-e">id</span>=<span class="pl-s"><span class="pl-pds">"</span>lineID0002<span class="pl-pds">"</span></span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:05.748<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:07.303<span class="pl-pds">"</span></span> <span class="pl-e">onclick</span>=<span class="pl-s"><span class="pl-pds">"</span>goToSentence(this)<span class="pl-pds">"</span></span>&gt;We will be starting shortly.&lt;/<span class="pl-ent">span</span>&gt;</pre>
    </div>
    <p>etc...</p>
    <p>You can add your own html to break it into paragraphs and add headings, the important things is to keep the ids continuous and sequential.</p>

<h4><a id="user-content-language-options" class="anchor" href="#language-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>language options</h4>

    <p><em>To add a new language:</em>
    </p>
    <p>Create a file for each language with the name the the language: in the <code>data</code> and <code>html</code> folders, duplicate the files you want to translate (<code>captions.xml</code> or <code>transcription.html</code> for instance), and change the name of the file using the language code at the end of the name: <code>captions-LanguageCode.xml</code>.</p>
    <p>In the file <code>index.html</code>, in the part <code>&lt;div id="language-button"&gt;</code> starting on line 177, add another line for the new language:</p>
    <div class="highlight highlight-html"><pre>    &lt;<span class="pl-ent">option</span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">'</span>4<span class="pl-pds">'</span></span>&gt;Spanish&lt;/<span class="pl-ent">option</span>&gt;</pre>
    </div>
    <p>If you want to set a language as a default, add <code>selected="selected"</code> in the <code>&lt;option&gt;</code> element:</p>
    <div class="highlight highlight-html"><pre>    &lt;<span class="pl-ent">option</span> <span class="pl-e">value</span>=<span class="pl-s"><span class="pl-pds">'</span>4<span class="pl-pds">'</span></span> <span class="pl-e">selected</span>=<span class="pl-s"><span class="pl-pds">"</span>selected<span class="pl-pds">"</span></span>&gt;Spanish&lt;/<span class="pl-ent">option</span>&gt;</pre>
    </div>
    <p>In <code>HybridVideo.js</code>, in the part <code>function changeLanguage(index)</code>, on line 653, add an extra <code>case</code> for each extra language:</p>
<pre><code>case 4:
  loadSpanish();
  break;
</code></pre>

    <p>The <code>case</code> number corresponds to the <code>&lt;option value=''&gt;</code>.</p>
    <p>Just after in the <code>HybridVideo.js</code> file, in the part strating on line 678, add a new language function:</p>
<pre><code>function loadSpanish()
{
    $.ajax({
        type: "GET",
        url: "data/captions-ES.xml",
        dataType: "xml",
        success: parseLanguageCaptions
    });
    $("#transcription").load("html/transcription-ES.html");
}
</code></pre>


<h4><a id="user-content-to-add-additional-material-bottom-right-box" class="anchor" href="#to-add-additional-material-bottom-right-box" aria-hidden="true"><span class="octicon octicon-link"></span></a>To add additional material (bottom right box)</h4>

    <p>In the folder <code>data</code>, open the file <code>ContextualHtml.xml</code> in a text editor.</p>
    <p>Edit the starting time at which the additional material should be added, corresponding to the video, and its end time. In <code>[CDATA[]]</code> insert the iframe of a new video, like that: <code>[CDATA[&lt;iframe width="420" height="315" src="https://www.youtube.com/embed/bx9zIGxQ-zE" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;]]</code>
    </p>
    <p>Each part like the following extract represents an additional material:</p>
    <div class="highlight highlight-html"><pre>    <span class="pl-c">&lt;!-- Bob Dylan Don't Look Back Interview --&gt;</span>
    &lt;<span class="pl-ent">xtra</span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>01:18:00<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>01:18:30<span class="pl-pds">"</span></span>&gt;&lt;!<span class="pl-c1">[CDATA[&lt;iframe width="420" height="315" src="https://www.youtube.com/embed/mnl5X5MQKTg" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;]]</span>&gt;&lt;/<span class="pl-ent">xtra</span>&gt;</pre>
    </div>
    <p>When there is nothing in the box during a time period here is what should be written in the code:</p>
    <div class="highlight highlight-html"><pre>    <span class="pl-c">&lt;!-- Title of the additional element --&gt;</span>
    &lt;<span class="pl-ent">xtra</span> <span class="pl-e">begin</span>=<span class="pl-s"><span class="pl-pds">"</span>00:00:00<span class="pl-pds">"</span></span> <span class="pl-e">end</span>=<span class="pl-s"><span class="pl-pds">"</span>01:18:00<span class="pl-pds">"</span></span>&gt;&lt;!<span class="pl-c1">[CDATA[]]</span>&gt;&lt;/<span class="pl-ent">xtra</span>&gt;</pre>
    </div>

<h3><a id="user-content-ready-to-play" class="anchor" href="#ready-to-play" aria-hidden="true"><span class="octicon octicon-link"></span></a>ready to play!</h3>

</div>
